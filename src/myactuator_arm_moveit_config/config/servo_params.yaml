servo_node:
  ros__parameters:
    moveit_servo:
      # General
      publish_period: 0.02
      max_expected_latency: 0.1

      # MoveIt Group
      move_group_name: arm

      # Command input
      command_in_type: "speed_units"
      scale:
        linear: 0.3
        rotational: 0.5
        joint: 0.5

      # Command output
      command_out_type: trajectory_msgs/JointTrajectory
      command_out_topic: /joint_trajectory_controller/joint_trajectory
      publish_joint_positions: true
      publish_joint_velocities: true
      publish_joint_accelerations: false

      # Topics
      cartesian_command_in_topic: ~/delta_twist_cmds
      joint_command_in_topic: ~/delta_joint_cmds
      joint_topic: /joint_states
      status_topic: ~/status

      # Smoothing
      use_smoothing: true
      smoothing_filter_plugin_name: "online_signal_smoothing::ButterworthFilterPlugin"

      # Planning scene
      is_primary_planning_scene_monitor: false
      check_octomap_collisions: false

      # Collision checking
      check_collisions: true
      collision_check_rate: 10.0
      self_collision_proximity_threshold: 0.01
      scene_collision_proximity_threshold: 0.02

      # Singularity - COMPLETELY DISABLED (extremely high thresholds)
      # WARNING: Only for simulation - singularity can cause dangerous motion on real hardware
      lower_singularity_threshold: 1.0e9
      hard_stop_singularity_threshold: 1.0e10
      leaving_singularity_threshold_multiplier: 2.0

      # Joint limits - reduced margins for more workspace (was 0.1)
      # Order: shoulder_pitch, shoulder_roll, shoulder_yaw, elbow_pitch, elbow_yaw, wrist_roll
      joint_limit_margins: [0.02, 0.02, 0.02, 0.02, 0.02, 0.02]
